<!doctype html>
<html lang="es">
<head>
  <link rel="stylesheet" href="styles.css">
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>RODES | Audi Q5 Comfort</title>
</head>

<body class="page-details">

  <!-- HERO con carrusel (sin textos) -->
  <header class="hero hero--details">
    <div class="hero-carousel" data-carousel="hero">
      <button class="hero-arrow hero-arrow--left" type="button" aria-label="Imagen anterior">‹</button>

      <div class="hero-track" id="heroTrackComfort" aria-label="Galería del auto">
        <!-- ✅ PON AQUÍ LAS URLs de tus imágenes (pueden ser links o rutas locales) -->
        <div class="hero-slide"><img src="images/audi-q5.avif" alt="Audi Q5 Comfort - Foto 1"></div>
        <div class="hero-slide"><img src="images/audi-q51.jpeg" alt="Audi Q5 Comfort - Foto 2"></div>
        <div class="hero-slide"><img src="images/audi-q52.jpg" alt="Audi Q5 Comfort - Foto 3"></div>
      </div>

      <button class="hero-arrow hero-arrow--right" type="button" aria-label="Imagen siguiente">›</button>

      <!-- Indicadores -->
      <div class="hero-indicators">
        <div class="hero-hint">Desliza ← →</div>
        <div class="hero-count" id="heroCountComfort">1 / 3</div>
        <div class="hero-dots" id="heroDotsComfort" aria-label="Indicador de imágenes"></div>
      </div>

      <nav class="hero-nav">
        <a class="glass-btn" href="index.html">Inicio</a>
        <a class="glass-btn" href="q5comfort.html">Reservar</a>
        <a class="glass-btn" href="contacto.html">Contacto</a>
      </nav>
    </div>
  </header>

  <main class="main">
    <section class="section container">
      <div class="details-card">
        <h2 class="details-title">Características principales</h2>

        <div class="details-grid">
          <div class="details-item">Motor: 2.0 Comfort</div>
          <div class="details-item">Transmisión: Automática</div>
          <div class="details-item">Capacidad: 5 pasajeros</div>
          <div class="details-item">Interior premium</div>
          <div class="details-item">Pantalla táctil</div>
          <div class="details-item">Bluetooth</div>
        </div>

        <h3 class="details-subtitle">Incluye</h3>
        <ul class="details-list">
          <li>Aire acondicionado</li>
          <li>Control crucero</li>
          <li>Cámara trasera</li>
          <li>Asientos cómodos</li>
        </ul>

        <div class="details-actions">
          <a class="btn btn-ghost" href="index.html">Volver</a>
          <a class="btn btn-primary" href="q5comfort.html">Reservar este auto</a>
        </div>
      </div>
    </section>
  </main>

  <script>
    function initInfiniteHeroCarousel(trackId, dotsId, countId) {
      const track = document.getElementById(trackId);
      const dotsWrap = document.getElementById(dotsId);
      const countEl = document.getElementById(countId);
      if (!track || !dotsWrap || !countEl) return;

      const carouselRoot = track.closest(".hero-carousel");
      const btnPrev = carouselRoot?.querySelector(".hero-arrow--left");
      const btnNext = carouselRoot?.querySelector(".hero-arrow--right");

      const realSlides = Array.from(track.querySelectorAll(".hero-slide"));
      const n = realSlides.length;
      if (n <= 0) return;

      const firstClone = realSlides[0].cloneNode(true);
      const lastClone = realSlides[n - 1].cloneNode(true);
      firstClone.setAttribute("data-clone", "1");
      lastClone.setAttribute("data-clone", "1");

      track.insertBefore(lastClone, realSlides[0]);
      track.appendChild(firstClone);

      dotsWrap.innerHTML = "";
      for (let i = 0; i < n; i++) {
        const d = document.createElement("button");
        d.type = "button";
        d.className = "hero-dot" + (i === 0 ? " active" : "");
        d.setAttribute("aria-label", "Ir a imagen " + (i + 1));
        d.addEventListener("click", () => scrollToReal(i + 1));
        dotsWrap.appendChild(d);
      }

      function slideWidth() { return track.clientWidth || 1; }

      let current = 1;

      function updateUI() {
        const realIndex = ((current - 1 + n) % n) + 1;
        countEl.textContent = realIndex + " / " + n;

        const dots = dotsWrap.querySelectorAll(".hero-dot");
        dots.forEach((dot, idx) => dot.classList.toggle("active", idx === (realIndex - 1)));
      }

      function jumpTo(index) {
        current = index;
        track.scrollLeft = current * slideWidth();
        updateUI();
      }

      function scrollTo(index) {
        current = index;
        track.scrollTo({ left: current * slideWidth(), behavior: "smooth" });
        updateUI();
      }

      function scrollToReal(realIndex1toN) {
        scrollTo(realIndex1toN);
      }

      requestAnimationFrame(() => jumpTo(1));

      btnPrev?.addEventListener("click", () => scrollTo(current - 1));
      btnNext?.addEventListener("click", () => scrollTo(current + 1));

      let t = null;
      track.addEventListener("scroll", () => {
        clearTimeout(t);
        t = setTimeout(() => {
          const w = slideWidth();
          const idx = Math.round(track.scrollLeft / w);
          current = idx;

          if (current === 0) { jumpTo(n); return; }
          if (current === n + 1) { jumpTo(1); return; }
          updateUI();
        }, 90);
      });

      window.addEventListener("resize", () => jumpTo(current));
    }

    initInfiniteHeroCarousel("heroTrackComfort", "heroDotsComfort", "heroCountComfort");
  </script>

</body>
</html>
